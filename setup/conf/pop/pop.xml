<web-app xmlns="http://caucho.com/ns/resin"
	xmlns:resin="urn:java:com.caucho.resin"
	xmlns:mireka="urn:java:mireka"
	xmlns:subetha="urn:java:org.subethamail.smtp.server"
	xmlns:ee="urn:java:ee"
	>

	<!--
		uncomment to import POP3 mails from an existing server at 
		startup
	-->
	<!--
	<mireka:PopMailImporter>
		<ee:Startup/>
		<users>#{globalUsers}</users>
		<maildropRepository>#{maildropRepository}</maildropRepository>
		<remoteHost>localhost</remoteHost>
		<remotePort>110</remotePort>
	</mireka:PopMailImporter>
	-->
	
	<mireka:PopServer>
		<Named>popServer</Named>
		<ee:Startup/>

		<mireka:loginSpecification>
			<mireka:GlobalUsersLoginSpecification>
				<mireka:users>#{globalUsers}</mireka:users>
			</mireka:GlobalUsersLoginSpecification>
		</mireka:loginSpecification>
		
		<mireka:principalMaildropTable>
			<mireka:GlobalUsersPrincipalMaildropTable />
		</mireka:principalMaildropTable>
		
		<mireka:maildropRepository>
			#{maildropRepository}
		</mireka:maildropRepository>

		<!-- 
			uncomnnet to specify TLS configuration specific to this 
			service 
		-->
		<!--
		<mireka:tlsConfiguration>
			<mireka:PrivateTlsConfiguration>
				<enabled>true</enabled>
			</mireka:PrivateTlsConfiguration>
			<mireka:JsseDefaultTlsConfiguration/>
		</mireka:tlsConfiguration>
		-->

		<!-- 
			comment out if TLS should be disabled or if service 
			specific configuration is supplied (see above) 
		-->
		<mireka:tlsConfiguration>
			<mireka:JsseDefaultTlsConfiguration/>
		</mireka:tlsConfiguration>
	</mireka:PopServer>
	
</web-app>