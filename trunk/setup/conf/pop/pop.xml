<!-- 
	POP3 and POP3 Mail Importer configuration.
	
	For more information on the individual configuration elements see the 
	Javadoc documentation in the doc/javadoc directory. For an overview read
	the documentation in the doc directory.  
-->
<web-app xmlns="http://caucho.com/ns/resin"
	xmlns:resin="urn:java:com.caucho.resin"
	xmlns:mireka="urn:java:mireka"
	xmlns:subetha="urn:java:org.subethamail.smtp.server"
	xmlns:ee="urn:java:ee"
	>

	<!--
		Uncomment to import POP3 mails from an existing server at 
		startup for each user. The user names and the passwords must 
		match on both systems.
	-->
	<!--
	<mireka:PopMailImporter>
		<ee:Startup/>
		<users>#{globalUsers}</users>
		<maildropRepository>#{maildropRepository}</maildropRepository>
		<remoteHost>localhost</remoteHost>
		<remotePort>110</remotePort>
	</mireka:PopMailImporter>
	-->
	
	<!--
		Configure server name, bind address, etc. here.
	-->
	<mireka:PopServer>
		<Named>popServer</Named>
		<ee:Startup/>

		<mireka:loginSpecification>
			<mireka:GlobalUsersLoginSpecification>
				<mireka:users>#{globalUsers}</mireka:users>
			</mireka:GlobalUsersLoginSpecification>
		</mireka:loginSpecification>
		
		<mireka:principalMaildropTable>
			<mireka:GlobalUsersPrincipalMaildropTable />
		</mireka:principalMaildropTable>
		
		<mireka:maildropRepository>
			#{maildropRepository}
		</mireka:maildropRepository>

		<!-- 
			Uncomment to specify TLS configuration specific to this 
			service.
		-->
		<!--
		<mireka:tlsConfiguration>
			<mireka:PrivateTlsConfiguration>
				<enabled>true</enabled>
			</mireka:PrivateTlsConfiguration>
			<mireka:JsseDefaultTlsConfiguration/>
		</mireka:tlsConfiguration>
		-->

		<!-- 
			Uncomment to use the global TLS configuration.
			Make sure that the global TLS configuration is valid, 
			otherwise an error will occur.
		-->
		<!--
		<mireka:tlsConfiguration>
			<mireka:JsseDefaultTlsConfiguration/>
		</mireka:tlsConfiguration>
		-->
	</mireka:PopServer>
	
</web-app>